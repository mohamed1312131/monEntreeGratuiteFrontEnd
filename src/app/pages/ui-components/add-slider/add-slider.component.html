<div class="dialog-container">
  <h2 mat-dialog-title class="dialog-title">
    <mat-icon class="title-icon">add_photo_alternate</mat-icon>
    Ajouter un nouveau carrousel
  </h2>

  <mat-dialog-content class="dialog-content">
    <div class="slider-form">
      <!-- Image Upload -->
      <div class="image-upload-section">
        <label class="upload-label">
          <mat-icon>cloud_upload</mat-icon>
          Image du carrousel
        </label>
        <div class="upload-area" (click)="fileInput.click()">
          <input
            #fileInput
            type="file"
            accept="image/*"
            (change)="onImageSelected($event)"
            hidden
          />
          <div class="upload-content" *ngIf="!selectedFile">
            <mat-icon class="upload-icon">add_photo_alternate</mat-icon>
            <p class="upload-text">Cliquez pour sélectionner une image</p>
            <p class="upload-hint">PNG, JPG, JPEG (Max 5MB)</p>
          </div>
          <div class="upload-preview" *ngIf="selectedFile">
            <mat-icon class="check-icon">check_circle</mat-icon>
            <p class="file-name">{{ selectedFile.name }}</p>
            <button
              mat-icon-button
              type="button"
              (click)="removeImage($event)"
              class="remove-btn"
            >
              <mat-icon>close</mat-icon>
            </button>
          </div>
        </div>
        <mat-error *ngIf="imageError" class="error-text">
          Veuillez sélectionner une image valide (PNG, JPG, JPEG - Max 5MB)
        </mat-error>
      </div>
    </div>
  </mat-dialog-content>

  <mat-dialog-actions class="dialog-actions">
    <button mat-button mat-dialog-close class="cancel-btn">
      <mat-icon>close</mat-icon>
      Annuler
    </button>
    <button
      mat-raised-button
      color="primary"
      (click)="submitSlider()"
      [disabled]="!selectedFile || isSubmitting"
      class="submit-btn"
    >
      <mat-icon *ngIf="!isSubmitting">add</mat-icon>
      <mat-spinner *ngIf="isSubmitting" diameter="20" style="display: inline-block; margin-right: 8px;"></mat-spinner>
      {{ isSubmitting ? 'Envoi en cours...' : 'Ajouter' }}
    </button>
  </mat-dialog-actions>
</div>
