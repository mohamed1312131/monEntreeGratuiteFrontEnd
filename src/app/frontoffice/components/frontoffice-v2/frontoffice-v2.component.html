
<div class="min-h-screen bg-gradient-to-b from-slate-900 to-slate-800">
  
  <!-- ===== PREMIUM HEADER ===== -->
  <app-header-section></app-header-section>

  <!-- ===== HERO CAROUSEL ===== -->
 <app-hero-carousel (reservationClick)="openHeroReservation($event)"></app-hero-carousel>

  <!-- ===== FOIRES ET SALONS PREMIUM ===== -->
 <app-foires-section (reserveClick)="onReserve($event.foire, $event.country)"></app-foires-section>

  <!-- ===== ABOUT US PREMIUM ===== -->
  <app-about-section></app-about-section>

  <!-- ===== VIDEO REELS YOUTUBE SHORTS STYLE ===== -->
  <app-video-section></app-video-section>

  <!-- ===== DEVENIR EXPOSANT PREMIUM ===== -->
  <app-exposant-section (exhibitorFormOpened)="openExhibitorForm()"></app-exposant-section>

  <!-- ===== FOOTER PREMIUM ===== -->
 <app-footer-section></app-footer-section>

  <!-- ===== RESERVATION SIDEBAR ===== -->
  <div class="reservation-overlay" [class.open]="isFormOpen" (click)="closeForm()"></div>
  <div class="reservation-form-container" [class.open]="isFormOpen">
    <div class="form-header">
      <button class="close-btn" (click)="closeForm()">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <line x1="18" y1="6" x2="6" y2="18"></line>
          <line x1="6" y1="6" x2="18" y2="18"></line>
        </svg>
      </button>
    </div>

    <div class="form-content" *ngIf="selectedFoire">
      <!-- Foire Details Section -->
      <div class="foire-details">
        <img [src]="selectedFoire.image" [alt]="selectedFoire.name" class="foire-image">
        <div class="foire-info">
          <h3>{{ selectedFoire.name }}</h3>
          <p class="foire-date">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
              <line x1="16" y1="2" x2="16" y2="6"></line>
              <line x1="8" y1="2" x2="8" y2="6"></line>
              <line x1="3" y1="10" x2="21" y2="10"></line>
            </svg>
            {{ selectedFoire.date }}
          </p>
          <p class="foire-location">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
              <circle cx="12" cy="10" r="3"></circle>
            </svg>
            {{ selectedFoire.location }} - {{ selectedFoire.pays }}
          </p>
        </div>
      </div>

      <!-- Reservation Form -->
      <form class="reservation-form" (ngSubmit)="submitReservation()">
        <h4>Réservez votre invitation gratuite</h4>
        
        <!-- Error Message -->
        <div *ngIf="errorMessage" class="error-alert">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="12" cy="12" r="10"></circle>
            <line x1="12" y1="8" x2="12" y2="12"></line>
            <line x1="12" y1="16" x2="12.01" y2="16"></line>
          </svg>
          <span>{{ errorMessage }}</span>
        </div>

        <!-- Pays -->
        <div class="form-group">
          <label for="pays">Pays *</label>
          <select id="pays" [(ngModel)]="reservationForm.pays" name="pays" required class="form-control" [disabled]="true" style="background-color: #f1f5f9; cursor: not-allowed; opacity: 0.8;">
            <option value="">Sélectionnez un pays</option>
            <option value="France">France</option>
            <option value="Belgique">Belgique</option>
            <option value="Suisse">Suisse</option>
          </select>
        </div>

        <!-- Type d'entrée -->
        <div class="form-group">
          <label for="entreeType">Je souhaite une entrée pour *</label>
          <select id="entreeType" [(ngModel)]="reservationForm.entreeType" name="entreeType" required class="form-control">
            <option value="">Sélectionnez</option>
            <option value="couple">Couple</option>
            <option value="moi-et-ami">Moi et mon ami(e)</option>
            <option value="moi-seulement">Moi seulement</option>
          </select>
        </div>

        <!-- Ville -->
        <div class="form-group">
          <label for="ville">Ville *</label>
          <input type="text" id="ville" [(ngModel)]="reservationForm.ville" name="ville" required class="form-control" placeholder="Votre ville">
        </div>

        <!-- Nom et Prénom -->
        <div class="form-row">
          <div class="form-group">
            <label for="nom">Nom *</label>
            <input type="text" id="nom" [(ngModel)]="reservationForm.nom" name="nom" required class="form-control" placeholder="Nom">
          </div>
          <div class="form-group">
            <label for="prenom">Prénom *</label>
            <input type="text" id="prenom" [(ngModel)]="reservationForm.prenom" name="prenom" required class="form-control" placeholder="Prénom">
          </div>
        </div>

        <!-- SMS Number -->
        <div class="form-group">
          <label for="smsNumber">Je veux recevoir mon invitation par SMS sur le numéro</label>
          <input type="tel" id="smsNumber" [(ngModel)]="reservationForm.smsNumber" name="smsNumber" class="form-control" placeholder="+33 6 12 34 56 78">
        </div>

        <!-- Email -->
        <div class="form-group">
          <label for="email">Je veux recevoir mon invitation par email à l'adresse *</label>
          <input type="email" id="email" [(ngModel)]="reservationForm.email" name="email" required class="form-control" placeholder="votre@email.com">
        </div>

        <!-- Tranche d'âge -->
        <div class="form-group">
          <label for="trancheAge">Tranche d'âge *</label>
          <select id="trancheAge" [(ngModel)]="reservationForm.trancheAge" name="trancheAge" required class="form-control">
            <option value="">Sélectionnez votre tranche d'âge</option>
            <option value="moins-35">Moins de 35 ans</option>
            <option value="35-70">Entre 35 et 70 ans</option>
            <option value="plus-70">Plus de 70 ans</option>
          </select>
        </div>

        <!-- Téléphone -->
        <div class="form-group">
          <label for="telephone">Numéro de téléphone sur lequel vous êtes joignable *</label>
          <input type="tel" id="telephone" [(ngModel)]="reservationForm.telephone" name="telephone" required class="form-control" placeholder="+33 6 12 34 56 78">
        </div>

        <!-- Conditions générales -->
        <div class="form-group checkbox-group">
          <label class="checkbox-label">
            <input type="checkbox" [(ngModel)]="reservationForm.acceptConditions" name="acceptConditions" required>
            <span class="checkbox-text">
              Je reconnais avoir lu et accepté les <a href="#" target="_blank">conditions générales de services et d'utilisation</a> *
            </span>
          </label>
        </div>

        <!-- Marketing consent -->
        <div class="form-group checkbox-group">
          <label class="checkbox-label">
            <input type="checkbox" [(ngModel)]="reservationForm.acceptMarketing" name="acceptMarketing" required>
            <span class="checkbox-text">
              En cochant cette case, j'autorise VIPLUX détenteur de monentreegratuite, à utiliser mon email et/ou mon téléphone pour m'adresser mon invitation, des offres, actualités et relances liées à ses offres. Je peux retirer mon consentement à tout moment via le lien de désinscription (emails) ou en répondant STOP (SMS).
            </span>
          </label>
        </div>

        <!-- Submit Button -->
        <button type="submit" class="btn-submit" [disabled]="!reservationForm.acceptConditions || !reservationForm.acceptMarketing || isSubmitting">
          <span *ngIf="!isSubmitting">Confirmer ma réservation</span>
          <span *ngIf="isSubmitting">
            <span class="spinner-border spinner-border-sm me-2" role="status" aria-hidden="true"></span>
            Envoi en cours...
          </span>
        </button>
      </form>
    </div>
  </div>

  <!-- ===== SUCCESS POPUP MODAL ===== -->
  <div class="success-popup-overlay" [class.show]="showSuccessPopup" (click)="closeSuccessPopup()"></div>
  <div class="success-popup" [class.show]="showSuccessPopup">
    <div class="success-popup-content">
      <div class="success-icon">
        <svg xmlns="http://www.w3.org/2000/svg" width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
          <polyline points="22 4 12 14.01 9 11.01"></polyline>
        </svg>
      </div>
      <h3>Réservation Confirmée !</h3>
      <p>Votre réservation a été enregistrée avec succès.</p>
      <p class="contact-message">Nous vous contacterons très prochainement par email avec tous les détails.</p>
      <button class="success-btn" (click)="closeSuccessPopup()">Parfait !</button>
    </div>
  </div>

  <!-- ===== EXHIBITOR SIDEBAR (SLIDES FROM LEFT) ===== -->
  <div class="exhibitor-overlay" [class.open]="isExhibitorFormOpen" (click)="closeExhibitorForm()"></div>
  <div class="exhibitor-form-container" [class.open]="isExhibitorFormOpen">
    <div class="form-header">
      <button class="close-btn" (click)="closeExhibitorForm()">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <line x1="18" y1="6" x2="6" y2="18"></line>
          <line x1="6" y1="6" x2="18" y2="18"></line>
        </svg>
      </button>
    </div>

    <div class="form-content">
      <!-- Exhibitor Form -->
      <form class="exhibitor-form" (ngSubmit)="submitExhibitorForm()">
        <div class="form-title-wrapper">
          <h4>Devenir Exposant</h4>
          <button type="button" (click)="closeExhibitorForm()" class="inline-close-btn">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <line x1="18" y1="6" x2="6" y2="18"></line>
              <line x1="6" y1="6" x2="18" y2="18"></line>
            </svg>
          </button>
        </div>
        <p class="form-intro">Rejoignez-nous et développez votre activité lors de nos événements prestigieux.</p>
        
        <!-- Error Message -->
        <div *ngIf="exhibitorErrorMessage" class="alert alert-danger" role="alert">
          <strong>Erreur:</strong> {{ exhibitorErrorMessage }}
        </div>
        
        <!-- Success Message -->
        <div *ngIf="exhibitorSuccessMessage" class="alert alert-success" role="alert">
          <strong>Succès!</strong> {{ exhibitorSuccessMessage }}
        </div>

        <!-- Section: Coordonnées de l'établissement -->
        <div class="form-section">
          <h5 class="section-title">Coordonnées de l'établissement</h5>

          <!-- Nom d'établissement -->
          <div class="form-group">
            <label for="nomEtablissement">Nom d'établissement *</label>
            <input type="text" id="nomEtablissement" [(ngModel)]="exhibitorForm.nomEtablissement" name="nomEtablissement" required class="form-control" placeholder="Nom de votre établissement">
          </div>

          <!-- Secteur d'activité -->
          <div class="form-group">
            <label for="secteurActivite">Secteur d'activité *</label>
            <input type="text" id="secteurActivite" [(ngModel)]="exhibitorForm.secteurActivite" name="secteurActivite" required class="form-control" placeholder="Ex: Alimentation, Mode, Technologie...">
          </div>

          <!-- Description -->
          <div class="form-group">
            <label for="description">Description de votre activité</label>
            <textarea id="description" [(ngModel)]="exhibitorForm.description" name="description" class="form-control" rows="4" placeholder="Décrivez brièvement votre activité et vos produits/services"></textarea>
          </div>
        </div>

        <!-- Section: Personne de contact -->
        <div class="form-section">
          <h5 class="section-title">Personne de contact dans l'établissement</h5>

          <!-- Civilité -->
          <div class="form-group">
            <label for="civilite">Civilité *</label>
            <select id="civilite" [(ngModel)]="exhibitorForm.civilite" name="civilite" required class="form-control">
              <option value="">Sélectionnez</option>
              <option value="madame">Madame</option>
              <option value="monsieur">Monsieur</option>
            </select>
          </div>

          <!-- Nom et Prénom -->
          <div class="form-group">
            <label for="nomPrenom">Nom et Prénom *</label>
            <input type="text" id="nomPrenom" [(ngModel)]="exhibitorForm.nomPrenom" name="nomPrenom" required class="form-control" placeholder="Nom et prénom du contact">
          </div>

          <!-- Email -->
          <div class="form-group">
            <label for="exhibitorEmail">Votre adresse email *</label>
            <input type="email" id="exhibitorEmail" [(ngModel)]="exhibitorForm.email" name="email" required class="form-control" placeholder="contact@exemple.com">
          </div>

          <!-- Téléphone -->
          <div class="form-group">
            <label for="exhibitorTelephone">Votre numéro de téléphone *</label>
            <input type="tel" id="exhibitorTelephone" [(ngModel)]="exhibitorForm.telephone" name="telephone" required class="form-control" placeholder="+33 6 12 34 56 78">
          </div>
        </div>

        <!-- Required fields notice -->
        <p class="required-notice">* Champs obligatoires.</p>

        <!-- Accept contact -->
        <div class="form-group checkbox-group">
          <label class="checkbox-label">
            <input type="checkbox" [(ngModel)]="exhibitorForm.acceptContact" name="acceptContact" required>
            <span class="checkbox-text">
              En cliquant sur "Envoyer la demande", vous acceptez d'être recontacté par Mon Entrée Gratuite dans le cadre de votre demande. *
            </span>
          </label>
        </div>

        <!-- Submit Button -->
        <button type="submit" class="btn-submit" [disabled]="!exhibitorForm.acceptContact || isExhibitorSubmitting">
          <span *ngIf="!isExhibitorSubmitting">Envoyer la demande</span>
          <span *ngIf="isExhibitorSubmitting">
            <span class="spinner-border spinner-border-sm me-2" role="status" aria-hidden="true"></span>
            Envoi en cours...
          </span>
        </button>
      </form>
    </div>
  </div>
</div>
