<section id="accueil" class="carousel-section">
  <!-- Loading State -->
  <div *ngIf="isLoading" class="absolute inset-0 flex items-center justify-center bg-gradient-to-br from-gray-900 to-gray-800">
    <div class="text-center">
      <div class="animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-amber-500 mx-auto mb-4"></div>
      <p class="text-white text-lg">Chargement des événements...</p>
    </div>
  </div>

  <!-- Error State -->
  <div *ngIf="hasError && !isLoading && heroSlides.length === 0" class="absolute inset-0 flex items-center justify-center bg-gradient-to-br from-gray-900 to-gray-800">
    <div class="text-center px-4">
      <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-amber-500 mx-auto mb-4">
        <circle cx="12" cy="12" r="10"></circle>
        <line x1="12" y1="8" x2="12" y2="12"></line>
        <line x1="12" y1="16" x2="12.01" y2="16"></line>
      </svg>
      <p class="text-white text-xl mb-2">Impossible de charger les événements</p>
      <p class="text-gray-400">Veuillez réessayer plus tard</p>
    </div>
  </div>

  <!-- Content (only show when we have slides) -->
  <ng-container *ngIf="!isLoading && heroSlides.length > 0">
    <div class="carousel-image-container">
      <img 
        [src]="heroSlides[currentSlide].image" 
        [alt]="heroSlides[currentSlide].title"
        class="carousel-image"
      />
    </div>

    <!-- Carousel Controls -->
    <button 
      *ngIf="heroSlides.length > 1"
      (click)="prevSlide()" 
      class="hero-carousel-control prev"
      aria-label="Slide précédent">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <polyline points="15 18 9 12 15 6"></polyline>
      </svg>
    </button>
    
    <button 
      *ngIf="heroSlides.length > 1"
      (click)="nextSlide()" 
      class="hero-carousel-control next"
      aria-label="Slide suivant">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <polyline points="9 18 15 12 9 6"></polyline>
      </svg>
    </button>

    <!-- Dots Navigation -->
    <div *ngIf="heroSlides.length > 1" class="hero-carousel-dots absolute bottom-8 left-1/2 -translate-x-1/2 flex gap-3">
      <button
        *ngFor="let slide of heroSlides; let i = index"
        (click)="setSlide(i)"
        [attr.aria-label]="'Aller au slide ' + (i + 1)"
        [class.active]="i === currentSlide"
        class="hero-dot w-3 h-3 rounded-full transition-all"
        [ngClass]="i === currentSlide ? 'bg-amber-500 w-8' : 'bg-white/50'">
      </button>
    </div>

    <!-- Reservation Button -->
    <div class="hero-cta-container">
      <button 
        (click)="openHeroReservation()" 
        class="hero-cta-button-inline">
        <span style="position: relative; z-index: 2;">Je Réserve Mon Entrée Gratuite</span>
        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="position: relative; z-index: 2;">
          <polyline points="6 9 12 15 18 9"></polyline>
        </svg>
      </button>
    </div>
  </ng-container>
</section>