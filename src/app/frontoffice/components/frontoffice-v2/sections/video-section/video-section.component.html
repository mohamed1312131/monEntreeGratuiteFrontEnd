<section class="video-reels-section" style="background: #000000; position: relative; padding: 100px 0;">
    <div class="video-reels-background"></div>
    
    <div class="max-w-7xl mx-auto px-4 relative z-10">
      <!-- Section Header -->
      <div class="video-reels-header">
        <div class="video-header-icon">
          <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polygon points="23 7 16 12 23 17 23 7"></polygon>
            <rect x="1" y="5" width="15" height="14" rx="2" ry="2"></rect>
          </svg>
          <div class="video-icon-pulse"></div>
        </div>
        <h2 class="video-reels-title">
          Nos Événements en Vidéo
        </h2>
        <p class="video-reels-subtitle">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polygon points="5 3 19 12 5 21 5 3"></polygon>
          </svg>
          Revivez les meilleurs moments de nos foires
        </p>
      </div>

      <!-- Loading State -->
      <div *ngIf="isLoading" class="flex justify-center items-center py-20">
        <div class="text-center">
          <div class="animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-amber-500 mx-auto mb-4"></div>
          <p class="text-white text-lg">Chargement des vidéos...</p>
        </div>
      </div>

      <!-- Empty State -->
      <div *ngIf="!isLoading && videoReels.length === 0" class="text-center py-20">
        <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-amber-500 mx-auto mb-4">
          <polygon points="23 7 16 12 23 17 23 7"></polygon>
          <rect x="1" y="5" width="15" height="14" rx="2" ry="2"></rect>
        </svg>
        <p class="text-white text-xl mb-2">Aucune vidéo disponible</p>
        <p class="text-gray-400">Revenez bientôt pour découvrir nos vidéos</p>
      </div>

      <!-- Video Shorts Carousel -->
      <div *ngIf="!isLoading && videoReels.length > 0" class="video-shorts-container">
        <div class="video-shorts-wrapper">
          <div 
            class="video-shorts-carousel"
            [style.transform]="getVideoTransformStyle()">
            <div *ngFor="let video of videoReels" class="video-short-card" [class.playing]="isVideoPlaying(video.id)">
              <!-- Video Thumbnail (shown when not playing) -->
              <div *ngIf="!isVideoPlaying(video.id)" class="video-short-thumbnail" (click)="playVideo(video)" style="cursor: pointer;">
                <img [src]="video.thumbnail" [alt]="video.title" />
                <div class="video-overlay"></div>
                
                <!-- Play Button -->
                <div class="video-play-button">
                  <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="white" stroke="none">
                    <polygon points="5 3 19 12 5 21 5 3"></polygon>
                  </svg>
                </div>

                <!-- YouTube Shorts Badge -->
                <div class="shorts-badge">
                  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M10 9.35L15 12l-5 2.65zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"></path>
                  </svg>
                  <span>Shorts</span>
                </div>
              </div>

              <!-- Video Player (shown when playing) -->
              <div *ngIf="isVideoPlaying(video.id)" class="video-player-inline">
                <button class="close-video-btn" (click)="closeVideo()">
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <line x1="18" y1="6" x2="6" y2="18"></line>
                    <line x1="6" y1="6" x2="18" y2="18"></line>
                  </svg>
                </button>
                <iframe 
                  [src]="getEmbedUrl(video.link) | safe: 'resourceUrl'"
                  frameborder="0"
                  allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                  allowfullscreen>
                </iframe>
              </div>

              <!-- Video Info -->
              <div class="video-short-info">
                <div class="video-logo">
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                    <line x1="16" y1="2" x2="16" y2="6"></line>
                    <line x1="8" y1="2" x2="8" y2="6"></line>
                    <line x1="3" y1="10" x2="21" y2="10"></line>
                  </svg>
                </div>
                <div class="video-details">
                  <h3 class="video-title">{{ video.title }}</h3>
                  <p class="video-channel">{{ video.description || 'Découvrez nos événements' }}</p>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Navigation Arrows -->
        <button *ngIf="canVideoSlidePrev()" (click)="prevVideoSlide()" class="video-nav-btn video-nav-prev">
          <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
            <polyline points="15 18 9 12 15 6"></polyline>
          </svg>
        </button>
        <button *ngIf="canVideoSlideNext()" (click)="nextVideoSlide()" class="video-nav-btn video-nav-next">
          <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
            <polyline points="9 18 15 12 9 6"></polyline>
          </svg>
        </button>
      </div>
    </div>
  </section>